# 语法分析

语法 Syntax 和 语意（Semantic）的区别，语法是由语言文法决定的，表示了语言的合法结构，语意指具体语言结构本身的寒意，语法正确的语句其语意不一定正确。

语意规则分为静态和动态两种。

1. 静态规则 - 编译器在编译阶段根据语句结构就能分析确定的规则
1. 动态规则 - 编译阶段没有足够的信息而需要在运行时进行检查的规则

对于具有任意结构的语言，存在某些语句可能有错误但是编译器并不能在编译时检查出来，或者某些语句肯定不会出错但是编译器也不能在编译时检查出来，这些情况下就必须在运行时进行检查，保证语句符合规则；对于某些结构语言，能够做到编译时确定语句语意正确或者错误，不需要添加运行时规则。

静态分析 Static Analysis

1. 别名分析（alias analysis），判断一个值能否被安全的缓存在寄存器中，过期时重新计算或者并行访问。
1. 逃逸分析（escape analysis），分析同一个值的所有引用是否被限定在一个环境中（context），从而可以是该变量被分配在栈上而不是堆中
1. 子类型分析（subtype analysis），分析一个变量是否有特定子类型，从而可以调用某个方法而不用动态分配。

如果优化在某些程序中可能导致错误的代码，该优化被称为**不安全的（unsafe）**。如果优化通常情况下提高性能，某些情况下降低性能，该优化被称为**可怀疑的（speculative）**。

**保守（conservative）的**编译器只会应用安全有效的优化，**乐观（optimistic）的**编译器则会自由使用**可怀疑的**优化。

属性语法（Attribute Grammar）

1. 合成属性 （Synthesized Attribute）属性位于产生式的左侧，其值是从右侧计算得到
1. 集成属性（Inherited Attribute）属性位于产生式的右侧，其值从左侧计算得到

终结符只有综合属性，且由词法分析器提供
非终结符可以有综合属性、继承属性
文法开始符号的所有继承属性作为属性计算前的初

S 属性文法
L 属性文法
